---
title: 记录一些命令
categories: [linux]
comments: true
---

记录一些用过的命令<br>
<dfn info="以后懒得再百度">Hover</dfn> me.

# 基本上都是百度上找到的别人的

### 处理Pytorch使用GPU后仍有GPU资源未释放的情况 ###
使用PyTorch设置多线程（threads）进行数据读取（DataLoader），其实是假的多线程，他是开了N个子进程（PID都连着）进行模拟多线程工作，所以你的程序跑完或者中途kill掉主进程的话，子进程的GPU显存并不会被释放，需要手动一个一个kill才行
-查看运行在GPU上的所有程序：
`fuser -v /dev/nvidia*`
-然后kill所有进程
`kill -s 9 xxxxxxxx`

### 查看GPU ###
-每0.5秒更新
`watch -n 0.5 nvidia-smi`